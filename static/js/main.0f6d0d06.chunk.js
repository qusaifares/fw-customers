(this["webpackJsonpfairwinds-assessment"]=this["webpackJsonpfairwinds-assessment"]||[]).push([[0],{52:function(e,t,n){},54:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(14),u=n.n(s),i=(n(52),n(12)),o=n.n(i),l=n(19),b=n(18),j=n(6),d=n(2),m=n(69),f=n(70),O=n(44),h=n(45),p=n(64),_=n(68),v=n(66);!function(e){e[e.CREATE=0]="CREATE",e[e.VIEW=1]="VIEW"}(a||(a={}));var x=n(7),y=n(3),g=n(65),C=n(67),w=function(e,t){return fetch("".concat("https://my.api.mockaroo.com/customers.json?key=e95894a0").concat(e),t)},T=function(){var e=Object(b.a)(o.a.mark((function e(){var t,n,a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=t.size,e.next=4,w(void 0!==n?"&size=".concat(n):"");case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(n(54),n(1)),E=["type","customer"],S=function(e){var t,n=e.type,c=e.customer,s=Object(y.a)(e,E),u=(t={},Object(x.a)(t,a.CREATE,{title:"Create Customer"}),Object(x.a)(t,a.VIEW,{title:"View Customer"}),t)[n],i=Object(r.useState)(0),l=Object(j.a)(i,2),m=l[0],f=l[1],O=Object(r.useState)(!1),p=Object(j.a)(O,2),_=p[0],w=p[1],T=Object(r.useState)(c||{first_name:"",last_name:"",date_birth:"",email:"",mobile_phone_number:"",primary_address:{address_line_1:"",city:"",state:"",zip_code:""},ssn:""}),S=Object(j.a)(T,2),M=S[0],A=S[1],I=["address_line_1","city","state","zip_code"];Object(r.useEffect)((function(){return f((function(e){return e+1})),function(){w(!1),A(c||{first_name:"",last_name:"",date_birth:"",email:"",mobile_phone_number:"",primary_address:{address_line_1:"",city:"",state:"",zip_code:""},ssn:""})}}),[c,s.show]);var z=function e(t){return t?Object.keys(t).flatMap((function(n){return"object"===typeof t[n]?e(t[n]):n})):[]}(M),F=function(){var e=Object(b.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,k(M);case 4:e.sent,w(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(g.a,Object(d.a)(Object(d.a)({},s),{},{dialogClassName:"customerModal__dialog",contentClassName:"customerModal__content",children:[Object(N.jsx)(g.a.Header,{children:Object(N.jsx)(g.a.Title,{children:u.title})}),Object(N.jsx)(g.a.Body,{className:"customerModal__body",children:_?Object(N.jsx)(C.a,{variant:"success",children:"Customer has been created successfully!"}):Object(N.jsxs)(v.a,{onSubmit:F,children:[z.map((function(e){return Object(N.jsxs)(v.a.Group,{className:"mb-3",controlId:"formGroup__".concat(e),children:[Object(N.jsx)(v.a.Label,{style:{textTransform:"ssn"===e?"uppercase":"capitalize"},children:e.replaceAll("_"," ")}),Object(N.jsx)(v.a.Control,{required:!0,type:"date_birth"===e?"date":"text",value:M.primary_address[e]||M[e],onChange:function(t){return A((function(n){return Object(d.a)(Object(d.a)({},n),{},{primary_address:Object(d.a)(Object(d.a)({},n.primary_address),I.includes(e)&&Object(x.a)({},e,t.target.value))},!I.includes(e)&&Object(x.a)({},e,t.target.value))}))},readOnly:n===a.VIEW})]},"".concat(m).concat(e))})),n===a.CREATE?Object(N.jsx)(h.a,{variant:"primary",type:"submit",disabled:_,children:"Submit"}):null]})})]}))},M=(n(59),function(e){var t=e.columns,n=e.data,c=e.getCustomer,s=[25,50,100],u=Object(r.useState)(""),i=Object(j.a)(u,2),o=i[0],b=i[1],x=Object(r.useState)(1),y=Object(j.a)(x,2),g=y[0],C=y[1],w=Object(r.useState)(s[0]),T=Object(j.a)(w,2),k=T[0],E=T[1],M=Object(r.useState)({show:!1,type:a.CREATE}),A=Object(j.a)(M,2),I=A[0],z=A[1],F=function(e,t){return z((function(n){return Object(d.a)(Object(d.a)({},n),{},{customer:t&&Object(d.a)(Object(d.a)({},c(t.customer_number)),{},{age:t.age}),type:e,show:!0})}))};Object(r.useEffect)((function(){C(1)}),[k]);var R=Math.ceil(n.length/k),D=n.slice(k*(g-1),k*g).filter((function(e){return Object.values(e).join(" ").toLowerCase().includes(o)}));return Object(N.jsxs)("div",{className:"customTable",children:[Object(N.jsx)(S,Object(d.a)(Object(d.a)({},I),{},{onHide:function(){return z((function(e){return Object(d.a)(Object(d.a)({},e),{},{customer:void 0,show:!1})}))}})),Object(N.jsxs)("div",{className:"customTable__header",children:[Object(N.jsx)(f.a,{className:"customTable__headerSearch",children:Object(N.jsx)(O.a,{className:"customTable__headerSearchInput",placeholder:"Search...",value:o,onChange:function(e){return b(e.target.value)}})}),Object(N.jsx)("div",{className:"customTable__headerCreate",children:Object(N.jsx)(h.a,{className:"customTable__headerCreateBtn",variant:"light",onClick:function(){return F(a.CREATE)},children:"Create Customer"})})]}),Object(N.jsx)("div",{className:"customTable__body",children:Object(N.jsxs)(p.a,{borderless:!0,className:"customTable__bodyTable",children:[Object(N.jsx)("thead",{children:Object(N.jsx)("tr",{children:t.map((function(e){var t=e.label;return Object(N.jsx)("th",{children:t},t)}))})}),Object(N.jsxs)("tbody",{children:[D.map((function(e){return Object(N.jsx)("tr",{onClick:function(){return F(a.VIEW,e)},children:t.map((function(t){var n=t.label,a=t.key;return Object(N.jsx)("td",{children:e[a]||""},n)}))},Object.values(e).join(""))})),new Array(k-D.length).fill(Object(N.jsx)("tr",{className:"customTable__bodyTableRow-placeholder",children:t.map((function(e){var t=e.label;return Object(N.jsx)("td",{children:Object(N.jsx)(_.a,{animation:"glow",as:"div"})},t)}))}))]})]})}),Object(N.jsxs)("div",{className:"customTable__footer",children:[Object(N.jsxs)("div",{className:"customTable__footerRows",children:[Object(N.jsx)(v.a.Select,{defaultValue:10,size:"sm",onChange:function(e){return E(+e.target.value)},children:s.map((function(e){return Object(N.jsx)("option",{value:e,children:e},e)}))}),Object(N.jsx)("p",{children:"rows per page"})]}),Object(N.jsx)(m.a,{children:function(){var e=[],t=Math.max(1,g-3),n=Math.min(R,t+6);n===R&&(t=Math.max(1,n-6));for(var a=t;a<=n;a++)e.push(a);return[Object(N.jsx)(m.a.First,{onClick:function(){return C(1)}})].concat(Object(l.a)(e.map((function(e){return Object(N.jsx)(m.a.Item,{onClick:function(){return C(e)},active:g===e,children:e},e)}))),[Object(N.jsx)(m.a.Last,{onClick:function(){return C(R)}})])}()})]})]})}),A=function(e,t){var n=e.split("/").map((function(e){return+e})),a=Object(j.a)(n,3),r=a[0],c=a[1],s=a[2],u=new Date(s,r-1,c),i=t.getFullYear()-u.getFullYear(),o=t.getMonth()-u.getMonth();return(o<0||!o&&t.getDate()<u.getDate())&&i--,i},I=(n(60),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(j.a)(c,2),u=(s[0],s[1]),i=function(){var e=Object(b.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T({size:200});case 3:return t=e.sent,a(t),e.next=7,T({size:800});case 7:n=e.sent,a([].concat(Object(l.a)(t),Object(l.a)(n))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),u("Error fetching customers.");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){return i(),function(){a([]),u("")}}),[]);var d,m=new Date;return Object(N.jsx)("div",{className:"customers",children:Object(N.jsx)("div",{className:"customers__content",children:Object(N.jsx)(M,{columns:[{label:"Customer Number",key:"customer_number"},{label:"First Name",key:"first_name"},{label:"Last Name",key:"last_name"},{label:"Date of Birth",key:"date_birth"},{label:"SSN",key:"ssn"},{label:"Age",key:"age"}],data:(d=n,d.map((function(e){var t=e.customer_number,n=e.first_name,a=e.last_name,r=e.date_birth,c=e.ssn;return{customer_number:t,first_name:n,last_name:a,date_birth:r,ssn:c?"***-**-".concat(c.substring(c.length-4)):"",age:A(r,m)}}))),getCustomer:function(e){return n.find((function(t){return t.customer_number===e}))}})})})});n(61);var z=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(I,{})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,71)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};u.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(z,{})}),document.getElementById("root")),F()}},[[62,1,2]]]);
//# sourceMappingURL=main.0f6d0d06.chunk.js.map